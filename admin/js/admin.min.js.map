{"version":3,"file":"admin.min.js","sources":["admin.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const wrapTheme = document.querySelector(\".wrap-mkt\")\r\n    if (wrapTheme) {\r\n\r\n        // Seleciona o elemento textarea pelo seu ID.\r\n        var textArea = document.getElementById(\"custom-js\");\r\n\r\n        // Inicializa o editor CodeMirror.\r\n        var editor = CodeMirror.fromTextArea(textArea, {\r\n            lineNumbers: true,           // Números de linha\r\n            mode: \"javascript\",          // Modo de linguagem\r\n            theme: \"material-darker\",    // Tema\r\n            lineWrapping: true,          // Quebra automática de linha\r\n            foldGutter: true,             // Ativa o recolhimento de código\r\n            gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"], // Ativa o recurso de recolhimento ao lado dos números de linha\r\n            matchBrackets: true,         // Correspondência de colchetes\r\n            autoCloseBrackets: true,     // Fecha automaticamente colchetes, chaves, etc.\r\n            extraKeys: {\r\n                \"Ctrl-Space\": \"autocomplete\",  // Ativa o autocompletar com Ctrl+Espaço\r\n                \"Cmd-Space\": \"autocomplete\",   // Para usuários do MacOS\r\n                \"Tab\": \"indentAuto\"            // Indentação automática com Tab\r\n            }\r\n        });\r\n\r\n        // Carrega o autocompletar de JavaScript.\r\n        editor.on(\"inputRead\", function (instance, changeObj) {\r\n            CodeMirror.commands.autocomplete(editor, null, { completeSingle: false });\r\n        });\r\n\r\n\r\n        const formTheme = document.getElementById(\"chatbot-form\");\r\n        formTheme.addEventListener(\"submit\", function (e) {\r\n            e.preventDefault();\r\n\r\n            // Organizar dados\r\n            const data = collectThemeFormData(formTheme);\r\n\r\n            // Debug dos dados\r\n            console.log(data);\r\n\r\n            // Enviar dados para o servidor\r\n            sendDataToServer(data);\r\n        });\r\n    }\r\n\r\n    function collectThemeFormData(form) {\r\n        const themeData = {};\r\n        const formData = new FormData(form);\r\n\r\n        formData.forEach((value, key) => {\r\n            themeData[key] = value;\r\n        });\r\n        return {\r\n            action: 'save_chatbot_theme_settings',\r\n            theme_settings: themeData,\r\n            nonce: chatbot_admin_ajax.nonce\r\n        };\r\n    }\r\n    function sendDataToServer(data = {}) {\r\n        jQuery.ajax({\r\n            url: chatbot_admin_ajax.ajax_url,\r\n            type: 'POST',\r\n            data: data,\r\n            success: function (response) {\r\n                if (response.success) {\r\n                    // Debugar resultado\r\n                    console.log(response.data);\r\n                } else {\r\n                    //Debugar\r\n                    console.log(response);\r\n                }\r\n            },\r\n            error: function (e) {\r\n                //Debugar\r\n                console.log('Erro', e);\r\n            }\r\n        });\r\n    }\r\n});\r\n"],"names":["document","addEventListener","querySelector","textArea","getElementById","editor","CodeMirror","fromTextArea","lineNumbers","mode","theme","lineWrapping","foldGutter","gutters","matchBrackets","autoCloseBrackets","extraKeys","Ctrl-Space","Cmd-Space","Tab","on","instance","changeObj","commands","autocomplete","completeSingle","formTheme","e","preventDefault","data","form","themeData","formData","FormData","forEach","value","key","action","theme_settings","nonce","chatbot_admin_ajax","console","log","sendDataToServer","jQuery","ajax","url","ajax_url","type","success","response","error"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,WAE1C,GADkBD,SAASE,cAAc,WAAW,EACrC,CAGX,IAAIC,EAAWH,SAASI,eAAe,WAAW,EAG9CC,EAASC,WAAWC,aAAaJ,EAAU,CAC3CK,YAAa,CAAA,EACbC,KAAM,aACNC,MAAO,kBACPC,aAAc,CAAA,EACdC,WAAY,CAAA,EACZC,QAAS,CAAC,yBAA0B,yBACpCC,cAAe,CAAA,EACfC,kBAAmB,CAAA,EACnBC,UAAW,CACPC,aAAc,eACdC,YAAa,eACbC,IAAO,YACX,CACJ,CAAC,EAGDd,EAAOe,GAAG,YAAa,SAAUC,EAAUC,GACvChB,WAAWiB,SAASC,aAAanB,EAAQ,KAAM,CAAEoB,eAAgB,CAAA,CAAM,CAAC,CAC5E,CAAC,EAGD,MAAMC,EAAY1B,SAASI,eAAe,cAAc,EACxDsB,EAAUzB,iBAAiB,SAAU,SAAU0B,GAC3CA,EAAEC,eAAe,EAGjB,IAAMC,EAUd,SAA8BC,GAC1B,MAAMC,EAAY,GACZC,EAAW,IAAIC,SAASH,CAAI,EAKlC,OAHAE,EAASE,QAAQ,CAACC,EAAOC,KACrBL,EAAUK,GAAOD,CACrB,CAAC,EACM,CACHE,OAAQ,8BACRC,eAAgBP,EAChBQ,MAAOC,mBAAmBD,KAC9B,CACJ,EAtB0Cb,CAAS,EAG3Ce,QAAQC,IAAIb,CAAI,EAGhBc,CAiBkBd,EAAO,IAjBzBc,CAAiBd,GAkBrBe,OAAOC,KAAK,CACRC,IAAKN,mBAAmBO,SACxBC,KAAM,OACNnB,KAAMA,EACNoB,QAAS,SAAUC,GACXA,EAASD,QAETR,QAAQC,IAAIQ,EAASrB,IAAI,EAGzBY,QAAQC,IAAIQ,CAAQ,CAE5B,EACAC,MAAO,SAAUxB,GAEbc,QAAQC,IAAI,OAAQf,CAAC,CACzB,CACJ,CAAC,CAlCD,CAAC,CACL,CAmCJ,CAAC"}